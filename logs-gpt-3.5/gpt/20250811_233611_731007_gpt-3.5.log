[time]    2025-08-11 23:36:11
[model]   gpt-3.5
[input]   
You are a dispatching model. Your task is to choose the most suitable tool from the tool list based on User Demand and the Task Scenario, which will then be provided to the user for use.

Tool List: {{['Framingham Risk Score for Hard Coronary Heart Disease', 'HEART Score for Major Cardiac Events', 'Gupta Perioperative Risk for Myocardial Infarction or Cardiac Arrest (MICA)', 'Revised Cardiac Risk Index for Pre-Operative Risk', 'CHA2DS2-VASc Score for Atrial Fibrillation Stroke Risk', 'LDL Calculated', 'Corrected QT Interval (QTc)', 'HOMA-IR (Homeostatic Model Assessment for Insulin Resistance)', 'Sequential Organ Failure Assessment (SOFA) Score', 'PERC Rule for Pulmonary Embolism']}}
Detailed information of each tool: {{Framingham Risk Score for Hard Coronary Heart Disease: Calculate the Framingham Risk Score for Hard Coronary Heart Disease in patients aged 30-79 years without prior coronary heart disease history, diabetes, or intermittent claudication.

    Parameters:
    - age (int): The age of the patient in years. Valid range: 30-79.
    - sex (int): The sex of the patient. 0 for female, 1 for male.
    - smoker_status (int): Smoking status of the patient. 0 for non-smoker, 1 for smoker.
    - total_cholesterol (float): Total cholesterol level in mg/dL.
    - hdl_cholesterol (float): HDL cholesterol level in mg/dL.
    - systolic_bp (float): Systolic blood pressure in mm Hg.
    - bp_medication (int): Indicates if the blood pressure is being treated with medications. 0 for no, 1 for yes.

    Returns:
    float: The risk percentage of developing hard coronary heart disease.

    Calculation is based on the logarithmic transformations of risk factors and their interactions,
    separately for males and females. Note that older population data was used to develop this scale,
    which may not fully align with current population risks.


HEART Score for Major Cardiac Events:  Calculates the HEART Score for Major Cardiac Events based on five categories:
    History, EKG, Age, Risk factors, and Troponin level. This score helps to
    risk-stratify emergency department (ED) patients with chest pain into low,
    moderate, and high-risk groups for acute coronary syndrome (ACS).

    Args:
    history_score (int): Score based on patient history assessment, where:
        0 = Slightly suspicious,
        1 = Moderately suspicious,
        2 = Highly suspicious.
    ekg_score (int): Score based on EKG findings, where:
        0 = Normal,
        1 = Non-specific repolarization disturbance,
        2 = Significant ST deviation.
    age_score (int): Score based on patient's age, where:
        0 = less than 45,
        1 = between 45 and 64,
        2 = 65 or older.
    risk_factors_score (int): Score based on number of cardiovascular risk factors, where:
        0 = No known risk factors,
        1 = 1–2 risk factors,
        2 = 3 or more risk factors or history of atherosclerotic disease.
    troponin_score (int): Score based on initial troponin levels, where:
        0 = ≤ normal limit,
        1 = 1–3 times normal limit,
        2 = >3 times normal limit.

    Returns:
    int: The total HEART score, which can guide further management of chest pain patients
         in the emergency setting. Total scores categorize risk as follows:
         0-3 points indicate low risk,
         4-6 points indicate moderate risk,
         7-10 points indicate high risk.

    Example:
    >>> calculate_heart_score(2, 1, 1, 2, 1)
    7


Gupta Perioperative Risk for Myocardial Infarction or Cardiac Arrest (MICA): 
    Calculate the Gupta Perioperative Risk for Myocardial Infarction or Cardiac Arrest (MICA).

    This function estimates the cardiac risk percentage for patients undergoing surgery based on various factors.
    
    Parameters:
    age (int): The age of the patient in years.
    functional_status (int): Functional status of the patient. 
                             Options are: 
                             0 - Independent
                             1 - Partially dependent
                             2 - Totally dependent
    asa_class (int): ASA class of the patient. 
                     Options are:
                     1 - Normal healthy patient
                     2 - Mild systemic disease
                     3 - Severe systemic disease
                     4 - Severe systemic disease that is a constant threat to life
                     5 - Moribund, not expected to survive without surgery
    creatinine (int): Creatinine level status. 
                      Options are:
                      0 - Normal (≤1.5 mg/dL, 133 µmol/L)
                      1 - Elevated (>1.5 mg/dL, 133 µmol/L)
                      2 - Unknown
    procedure_type (int): Type of procedure being performed. 
                          Options are:
                          0 - Anorectal
                          1 - Aortic
                          2 - Bariatric
                          3 - Brain
                          4 - Breast
                          5 - Cardiac
                          6 - ENT (except thyroid/parathyroid)
                          7 - Foregut or hepatopancreatobiliary
                          8 - Gallbladder, appendix, adrenals, or spleen
                          9 - Hernia (ventral, inguinal, femoral)
                          10 - Intestinal
                          11 - Neck (thyroid/parathyroid)
                          12 - Obstetric/gynecologic
                          13 - Orthopedic and non-vascular extremity
                          14 - Other abdominal
                          15 - Peripheral vascular (Non-aortic, non-vein vascular surgeries)
                          16 - Skin
                          17 - Spine
                          18 - Non-esophageal thoracic
                          19 - Vein
                          20 - Urology

    Returns:
    float: The estimated cardiac risk percentage.
   

Revised Cardiac Risk Index for Pre-Operative Risk: Calculate the Revised Cardiac Risk Index for Pre-Operative Risk.

    This function calculates the Revised Cardiac Risk Index, which is used to assess the risk of major cardiac complications in patients undergoing elective or urgent/semi-urgent non-cardiac surgery. It is based on a set of specific risk factors and is valuable for risk stratification and aiding discussions about informed consent with patients.

    Parameters:
    elevated_risk_surgery (bool): True if the surgery is intraperitoneal, intrathoracic, or suprainguinal vascular.
    history_of_ischemic_heart_disease (bool): True if there is a history of myocardial infarction, positive exercise test, current chest pain considered due to myocardial ischemia, or use of nitrate therapy or ECG showing pathological Q waves.
    history_of_congestive_heart_failure (bool): True if there are signs such as pulmonary edema, bilateral rales or S3 gallop, paroxysmal nocturnal dyspnea, or chest X-ray showing pulmonary vascular redistribution.
    history_of_cerebrovascular_disease (bool): True if there is a history of transient ischemic attack or stroke.
    preop_treatment_with_insulin (bool): True if the patient is being treated with insulin pre-operatively.
    preop_creatinine_above_threshold (bool): True if pre-operative creatinine levels are greater than 2 mg/dL or 176.8 µmol/L.

    Returns:
    int: The total Revised Cardiac Risk Index score, which is the sum of the individual risk factors present.

    Usage:
    The index is used primarily in the preoperative setting to assess cardiac risk. It assists healthcare providers in making informed decisions about further preoperative risk assessments and postoperative monitoring.
 

CHA2DS2-VASc Score for Atrial Fibrillation Stroke Risk: Calculate the CHA2DS2-VASc Score for Atrial Fibrillation Stroke Risk.

    The CHA2DS2-VASc score is a clinical prediction rule for estimating the risk of stroke in
    patients with non-valvular atrial fibrillation. It is used to determine whether treatment with
    anticoagulation or antiplatelet therapy is appropriate, based on the risk of thromboembolism.

    Parameters:
    - age (int): Age of the patient.
    - sex (str): Biological sex of the patient, 'male' or 'female'.
    - history_of_congestive_heart_failure (bool): True if the patient has a history of congestive heart failure, otherwise False.
    - history_of_hypertension (bool): True if the patient has a history of hypertension, otherwise False.
    - history_of_stroke_tia_thromboembolism (bool): True if the patient has a history of stroke, transient ischemic attack (TIA), or thromboembolism, otherwise False.
    - history_of_vascular_disease (bool): True if the patient has a history of vascular disease (prior myocardial infarction, peripheral artery disease, or aortic plaque), otherwise False.
    - history_of_diabetes (bool): True if the patient has a history of diabetes mellitus, otherwise False.

    Returns:
    - int: The total CHA2DS2-VASc score which is a sum of the points for each risk factor.

    Example:
    >>> calculate_cha2ds2_vasc_score(75, 'female', True, True, True, True, True)
    9

LDL Calculated: Calculate the Low-Density Lipoprotein (LDL) cholesterol level using the Friedewald formula.
    
    Parameters:
        total_cholesterol (float): Total cholesterol level in mg/dL.
        hdl (float): High-Density Lipoprotein (HDL) cholesterol level in mg/dL.
        triglycerides (float): Triglyceride level in mg/dL, measured while fasting.

    Returns:
        float: Estimated LDL cholesterol level in mg/dL.

    Notes:
        - The Friedewald formula is generally accurate but can be inaccurate at extremes
          of triglycerides and total cholesterol levels.
        - It is recommended to use this calculation only for fasting triglyceride levels.

    Example:
        >>> calculate_ldl(200, 50, 150)
        110.0

    References:
        Cordova, A. (2004). Friedewald formula inaccuracies.

Corrected QT Interval (QTc): Calculate the Corrected QT Interval (QTc) for a patient.

    The QTc is used primarily to assess the risk of ventricular arrhythmias, especially torsades de pointes, 
    in patients with syncope or those receiving multiple QT-prolonging medications. A prolonged QT interval 
    can indicate a higher risk of cardiac arrhythmias. This function corrects the QT interval to a heart rate 
    of 60 beats per minute, accounting for variations due to different heart rates.

    Parameters:
        qt_interval (float): The measured QT interval in milliseconds.
        heart_rate (float): The patient's heart rate in beats per minute.
        formula (str): The formula to use for correction. Options are 'Bazett', 'Fridericia', 
                       'Framingham', 'Hodges', and 'Rautaharju'.

    Returns:
        float: The corrected QT interval (QTc) in milliseconds.

    Example:
        >>> calculate_qtc(300, 70, 'Bazett')
        357.0

HOMA-IR (Homeostatic Model Assessment for Insulin Resistance): Calculate the Homeostatic Model Assessment for Insulin Resistance (HOMA-IR).

    The HOMA-IR is a clinical tool used to estimate insulin resistance (IR), which can be
    indicative of potential glucose intolerance and diabetes. It is particularly useful
    in scenarios where more invasive and time-consuming methods like the clamp measurement
    (considered the gold standard for measuring IR) are not feasible. Although the HOMA-IR
    provides a reasonable correlation with clamp measurements, it is less accurate on an
    individual basis, which suggests a need for caution in its clinical application and
    interpretation.

    Parameters:
    - fasting_insulin (float): The fasting insulin level in uIU/mL.
    - fasting_glucose (float): The fasting glucose level in mg/dL.

    Returns:
    - float: The estimated insulin resistance (HOMA-IR score).

    Formula:
    HOMA-IR score = (fasting insulin * fasting glucose) / 405

Sequential Organ Failure Assessment (SOFA) Score: "Calculate the Sequential Organ Failure Assessment (SOFA) Score which is used to assess the extent of a person's organ function or rate of failure.
The score is used to track a patient's status during their stay in an intensive care unit to determine the extent of a person's organ function or rate of failure.

Parameters:
- pao2_fio2_ratio (float): The ratio of arterial oxygen partial pressure to fractional inspired oxygen (mmHg).
- platelets (float): Platelet count in ×103/µL.
- glasgow_coma_scale (int): Score on the Glasgow Coma Scale.
- bilirubin (float): Serum bilirubin in mg/dL.
- map_pressure (float): Mean arterial pressure in mmHg.
- vasoactive_agents (int): Index indicating the vasoactive agents being used. Corresponds to 0 for no agents, 1 for low dose dopamine or any dose dobutamine, 2 for higher dose dopamine or low dose epinephrine/norepinephrine, 3 for very high dose of these agents.
- creatinine (float): Serum creatinine in mg/dL.
- urine_output (float): Urine output in mL/day.
- o2_delivery_type (int): Index of the type of oxygen delivery method used. Types are as follows: 0 = nasal cannula, 1 = simple face mask, 2 = non-rebreather mask, 3 = high-flow nasal cannula.
- o2_flow_rate (float): Flow rate of oxygen delivery in L/min.

Returns:
int: Total SOFA score which is the sum of individual scores across the specified parameters."

PERC Rule for Pulmonary Embolism: Calculate the Pulmonary Embolism Rule-out Criteria (PERC) to determine if further testing for Pulmonary Embolism (PE)
    is unnecessary in patients considered low-risk.

    The PERC rule helps avoid unnecessary PE testing in low-risk patients. It requires that all criteria must be negative
    (i.e., all parameters must receive a 'no' to rule out PE without further testing).

    Parameters:
    - age_over_50 (bool): Whether the patient is aged 50 or older. False for no, True for yes.
    - heart_rate_over_100 (bool): Whether the patient has a heart rate of 100 bpm or higher. False for no, True for yes.
    - oxygen_saturation_under_95 (bool): Whether the patient has an oxygen saturation less than 95%. False for no, True for yes.
    - unilateral_leg_swelling (bool): Whether the patient has unilateral leg swelling. False for no, True for yes.
    - hemoptysis (bool): Whether the patient has hemoptysis (coughing up blood). False for no, True for yes.
    - recent_surgery_or_trauma (bool): Whether the patient had surgery or trauma within the last 4 weeks requiring general anesthesia. False for no, True for yes.
    - prior_pe_or_dvt (bool): Whether the patient has a history of Pulmonary Embolism (PE) or Deep Vein Thrombosis (DVT). False for no, True for yes.
    - hormone_use (bool): Whether the patient is using hormones such as oral contraceptives, hormone replacement therapy, or estrogenic hormones in male or female patients. False for no, True for yes.

    Returns:
    - result (bool): True if the patient can be ruled out for PE without further testing (all criteria negative), False otherwise.


}}

Requirements:
1. You need to conduct a detailed, step-by-step analysis.
2. You must choose a tool from the Tool List.
3. The Final Answer is a JSON file, and the JSON file must be wrapped by ```json and ```
4. The tool you choose in the JSON file must be one of the items in the Tool List.

Here is a example of the Final Answer:
```json
{
    "chosen_tool_name": Str(the tool you choose)
}
```

Begin!

User Demand: {{哪一个量表可用于评估该患者10年内发作冠状动脉性心脏病的风险？}}
Task Scenario: {{Analysis:
The main abnormal parts of the patient's case include coronary artery heart disease with three-vessel disease, old myocardial infarction, unstable angina, severe hypertension (3rd stage), type 2 diabetes, and impaired high-density lipoprotein cholesterol levels.

Speculated impaired bodily functions:
1. Cardiovascular function: The patient has a history of coronary artery heart disease with three-vessel disease, old myocardial infarction, and unstable angina. This indicates impaired cardiovascular function, specifically coronary artery circulation and heart muscle function.
2. Metabolic function: The patient has type 2 diabetes, which indicates impaired insulin function and glucose metabolism.
3. Lipid metabolism: The patient has significantly low high-density lipoprotein cholesterol levels, which indicates impaired lipid metabolism and may contribute to the progression of coronary artery disease.

Overall, the patient's case highlights impairments in cardiovascular, metabolic, and lipid metabolism functions, necessitating comprehensive treatment and management strategies.}}
Step By Step Analysis:

[output]  1. The tool that can be used to assess the 10-year risk of coronary heart disease for the patient described in the scenario is the "Framingham Risk Score for Hard Coronary Heart Disease."

2. The Framingham Risk Score assesses the risk percentage of developing hard coronary heart disease in patients aged 30-79 years without prior coronary heart disease history, diabetes, or intermittent claudication.

3. Given the patient's history of coronary artery disease, old myocardial infarction, unstable angina, and other risk factors such as severe hypertension, type 2 diabetes, and impaired high-density lipoprotein cholesterol levels, the Framingham Risk Score can help evaluate the overall risk of developing coronary heart disease.

4. By inputting the relevant parameters such as age, sex, smoking status, cholesterol levels, blood pressure, and medication, the Framingham Risk Score can provide an estimate of the patient's risk percentage for hard coronary heart disease over the next 10 years.

5. Therefore, the most suitable tool from the Tool List based on the user demand and task scenario is the "Framingham Risk Score for Hard Coronary Heart Disease."

```json
{
    "chosen_tool_name": "Framingham Risk Score for Hard Coronary Heart Disease"
}
```
